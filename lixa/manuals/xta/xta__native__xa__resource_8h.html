<HTML>
  <HEAD>
    <TITLE>XTA: XA Transaction API</TITLE>
    <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
  </HEAD>
  <BODY BGCOLOR="#EBEDF5">
    <H1><A HREF="http://sourceforge.net/projects/lixa/">
    XTA: XA Transaction API (LIXA: Free/Open Source Software XA Transaction Manager)</A></H1>
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('xta__native__xa__resource_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">xta_native_xa_resource.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;config.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="xta__xa__resource_8h_source.html">xta_xa_resource.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for xta_native_xa_resource.h:</div>
<div class="dyncontent">
<div class="center"><img src="xta__native__xa__resource_8h__incl.png" border="0" usemap="#xta__native__xa__resource_8h" alt=""/></div>
<map name="xta__native__xa__resource_8h" id="xta__native__xa__resource_8h">
<area shape="rect" id="node3" href="xta__xa__resource_8h.html" title="xta_xa_resource.h" alt="" coords="218,80,347,107"/><area shape="rect" id="node4" href="client__config_8h.html" title="client_config.h" alt="" coords="229,155,336,181"/><area shape="rect" id="node8" href="xa_8h.html" title="xa.h" alt="" coords="431,304,477,331"/><area shape="rect" id="node11" href="xta__xid_8h.html" title="xta_xid.h" alt="" coords="409,155,483,181"/><area shape="rect" id="node6" href="lixa__config_8h.html" title="lixa_config.h" alt="" coords="119,229,213,256"/><area shape="rect" id="node9" href="lixa__iface_8h.html" title="lixa_iface.h" alt="" coords="239,229,327,256"/><area shape="rect" id="node10" href="xta__iface_8h.html" title="xta_iface.h" alt="" coords="243,304,329,331"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="xta__native__xa__resource_8h__dep__incl.png" border="0" usemap="#xta__native__xa__resource_8hdep" alt=""/></div>
<map name="xta__native__xa__resource_8hdep" id="xta__native__xa__resource_8hdep">
<area shape="rect" id="node2" href="xta_8h.html" title="xta.h" alt="" coords="5,80,56,107"/><area shape="rect" id="node3" href="xta__native__xa__resource_8c.html" title="xta_native_xa_resource.c" alt="" coords="80,80,251,107"/></map>
</div>
</div>
<p><a href="xta__native__xa__resource_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxta__native__xa__resource__t.html">xta_native_xa_resource_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:acc7dd43ba69e6e58d0399bb76af97ff9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__native__xa__resource_8h.html#acc7dd43ba69e6e58d0399bb76af97ff9">LIXA_TRACE_MODULE</a>&#160;&#160;&#160;LIXA_TRACE_MOD_XTA</td></tr>
<tr class="separator:acc7dd43ba69e6e58d0399bb76af97ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9113339c99e70bfb4bd2bb54aa4eed7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__native__xa__resource_8h.html#a9113339c99e70bfb4bd2bb54aa4eed7b">xta_native_xa_resource_clean</a> (<a class="el" href="structxta__native__xa__resource__t.html">xta_native_xa_resource_t</a> *this)</td></tr>
<tr class="separator:a9113339c99e70bfb4bd2bb54aa4eed7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff2473d752e55dfb6886a2abe154743"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__native__xa__resource_8h.html#aeff2473d752e55dfb6886a2abe154743">xta_native_xa_resource_delete</a> (<a class="el" href="structxta__native__xa__resource__t.html">xta_native_xa_resource_t</a> *this)</td></tr>
<tr class="separator:aeff2473d752e55dfb6886a2abe154743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9def86c729b6765702d155c2b85fa794"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__native__xa__resource_8h.html#a9def86c729b6765702d155c2b85fa794">xta_native_xa_resource_init</a> (<a class="el" href="structxta__native__xa__resource__t.html">xta_native_xa_resource_t</a> *this, int rmid, const <a class="el" href="client__config_8h.html#a9cedbab9bf53354ce6d9a8084ef248eb">client_config_coll_t</a> *config, const char *name, const char *switch_file, const char *open_info, const char *close_info)</td></tr>
<tr class="separator:a9def86c729b6765702d155c2b85fa794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a4957f1474393aff09d71e769bad03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structxta__native__xa__resource__t.html">xta_native_xa_resource_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__native__xa__resource_8h.html#ab5a4957f1474393aff09d71e769bad03">xta_native_xa_resource_new</a> (const char *name, const char *switch_file, const char *open_info, const char *close_info)</td></tr>
<tr class="separator:ab5a4957f1474393aff09d71e769bad03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7136bc351260991d17646a8a83dcc47b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structxta__native__xa__resource__t.html">xta_native_xa_resource_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__native__xa__resource_8h.html#a7136bc351260991d17646a8a83dcc47b">xta_native_xa_resource_new_by_rmid</a> (int rmid, const <a class="el" href="client__config_8h.html#a9cedbab9bf53354ce6d9a8084ef248eb">client_config_coll_t</a> *config)</td></tr>
<tr class="separator:a7136bc351260991d17646a8a83dcc47b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="acc7dd43ba69e6e58d0399bb76af97ff9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LIXA_TRACE_MODULE&#160;&#160;&#160;LIXA_TRACE_MOD_XTA</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xta__native__xa__resource_8h_source.html#l00037">37</a> of file <a class="el" href="xta__native__xa__resource_8h_source.html">xta_native_xa_resource.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a9113339c99e70bfb4bd2bb54aa4eed7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xta_native_xa_resource_clean </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structxta__native__xa__resource__t.html">xta_native_xa_resource_t</a> *&#160;</td>
          <td class="paramname"><em>this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clean the properties of a Native XA Resource; this function must be called after <a class="el" href="xta__native__xa__resource_8h.html#a9def86c729b6765702d155c2b85fa794">xta_native_xa_resource_init</a> during object disposition to avoid memory leaks </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>: Native XA Resource object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="xta__native__xa__resource_8c_source.html#l00293">293</a> of file <a class="el" href="xta__native__xa__resource_8c_source.html">xta_native_xa_resource.c</a>.</p>

<p>References <a class="el" href="client__config_8h.html#aa80b8f3e4b2a3e89352ca7b4927d8fa6">client_config_unload_switch_file()</a>, <a class="el" href="lixa__errors_8h_source.html#l00134">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00127">LIXA_RC_OK</a>, and <a class="el" href="xta__xa__resource_8c_source.html#l00181">xta_xa_resource_clean()</a>.</p>

<p>Referenced by <a class="el" href="xta__native__xa__resource_8c_source.html#l00142">xta_native_xa_resource_delete()</a>.</p>

</div>
</div>
<a class="anchor" id="aeff2473d752e55dfb6886a2abe154743"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xta_native_xa_resource_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structxta__native__xa__resource__t.html">xta_native_xa_resource_t</a> *&#160;</td>
          <td class="paramname"><em>this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete an object that represent a native XA Resource </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">this</td><td>: native XA Resource </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="xta__native__xa__resource_8c_source.html#l00142">142</a> of file <a class="el" href="xta__native__xa__resource_8c_source.html">xta_native_xa_resource.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00134">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00127">LIXA_RC_OK</a>, and <a class="el" href="xta__native__xa__resource_8c_source.html#l00293">xta_native_xa_resource_clean()</a>.</p>

</div>
</div>
<a class="anchor" id="a9def86c729b6765702d155c2b85fa794"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xta_native_xa_resource_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structxta__native__xa__resource__t.html">xta_native_xa_resource_t</a> *&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rmid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="client__config_8h.html#a9cedbab9bf53354ce6d9a8084ef248eb">client_config_coll_t</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>switch_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>open_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>close_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the common properties of Native XA Resources </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>: Native XA Resource object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rmid</td><td>: Resource Manager unique identifier within the thread of control. This identifier is even used to control the behavior of the constructor: <br/>
 if (rmid &gt;= 0) : all the values that describe the Resource Manager must be extracted from configuration file (lixac.flom) and the following options will be ignored (use NULL value for convenience) <br/>
 if (rmid &lt; 0) : create a new Resource Manager description that's not specified in configuration file (lixac.flom) and the following options can't be NULL. This behavior is useful to generate Native XA Resource dynamically at run time. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>: legacy LIXA structure that contains all the Resource Managers' configurations </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>: the name assigned to the Resource Manager just for debugging purposes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">switch_file</td><td>: absolute path of the XA switch file that points to xa_ functions for the resource manager </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">open_info</td><td>: a null-terminated character string that may contain instance-specific information for the resource manager when xa_open must be called (use NULL if you want to use the value passed by standard config) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">close_info</td><td>: a null-terminated character string that may contain instance-specific information for the resource manager when xa_close must be called (use NULL if you want to use the value passed by standard config </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reason code </dd></dl>

<p>Definition at line <a class="el" href="xta__native__xa__resource_8c_source.html#l00171">171</a> of file <a class="el" href="xta__native__xa__resource_8c_source.html">xta_native_xa_resource.c</a>.</p>

<p>References <a class="el" href="client__config_8h_source.html#l00259">client_config_coll_s::actconf</a>, <a class="el" href="client__config_8h.html#af954a7a3392530535cff4de50397f5ca">client_config_load_switch_file()</a>, <a class="el" href="lixa__errors_8h_source.html#l00134">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00175">LIXA_RC_INVALID_OPTION</a>, <a class="el" href="lixa__errors_8h_source.html#l00151">LIXA_RC_NULL_OBJECT</a>, <a class="el" href="lixa__errors_8h_source.html#l00127">LIXA_RC_OK</a>, <a class="el" href="lixa__errors_8h_source.html#l00138">LIXA_RC_OUT_OF_RANGE</a>, <a class="el" href="lixa__errors_8h_source.html#l00505">LIXA_RC_XML_STRDUP_ERROR</a>, <a class="el" href="xa_8h_source.html#l00070">MAXINFOSIZE</a>, <a class="el" href="client__config_8h_source.html#l00209">actual_config_s::rsrmgrs</a>, and <a class="el" href="xta__xa__resource_8c_source.html#l00043">xta_xa_resource_init()</a>.</p>

<p>Referenced by <a class="el" href="xta__native__xa__resource_8c_source.html#l00044">xta_native_xa_resource_new()</a>, and <a class="el" href="xta__native__xa__resource_8c_source.html#l00095">xta_native_xa_resource_new_by_rmid()</a>.</p>

</div>
</div>
<a class="anchor" id="ab5a4957f1474393aff09d71e769bad03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structxta__native__xa__resource__t.html">xta_native_xa_resource_t</a>* xta_native_xa_resource_new </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>switch_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>open_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>close_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new object to represent a native XA resource </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>: the name assigned to the Resource Manager just for debugging purposes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">switch_file</td><td>: absolute path of the XA switch file that points to xa_ functions for the resource manager </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">open_info</td><td>: a null-terminated character string that may contain instance-specific information for the resource manager when xa_open must be called (use NULL if you want to use the value passed by standard config) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">close_info</td><td>: a null-terminated character string that may contain instance-specific information for the resource manager when xa_close must be called (use NULL if you want to use the value passed by standard config </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new object or NULL in the event of error </dd></dl>

<p>Definition at line <a class="el" href="xta__native__xa__resource_8c_source.html#l00044">44</a> of file <a class="el" href="xta__native__xa__resource_8c_source.html">xta_native_xa_resource.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00562">LIXA_RC_G_TRY_MALLOC_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00134">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00127">LIXA_RC_OK</a>, and <a class="el" href="xta__native__xa__resource_8c_source.html#l00171">xta_native_xa_resource_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a7136bc351260991d17646a8a83dcc47b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structxta__native__xa__resource__t.html">xta_native_xa_resource_t</a>* xta_native_xa_resource_new_by_rmid </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rmid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="client__config_8h.html#a9cedbab9bf53354ce6d9a8084ef248eb">client_config_coll_t</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new object to represent a native XA resource described inside LIXA legacy configuration file "lixac.conf" </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rmid</td><td>: Resource Manager unique identifier within the thread of control. All the values that describe the Resource Manager must be extracted from configuration file (lixac.flom). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>: legacy LIXA structure that contains all the Resource Managers' configurations </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new object or NULL in the event of error </dd></dl>

<p>Definition at line <a class="el" href="xta__native__xa__resource_8c_source.html#l00095">95</a> of file <a class="el" href="xta__native__xa__resource_8c_source.html">xta_native_xa_resource.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00562">LIXA_RC_G_TRY_MALLOC_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00134">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00127">LIXA_RC_OK</a>, and <a class="el" href="xta__native__xa__resource_8c_source.html#l00171">xta_native_xa_resource_init()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <HR>
    <H5>
      <CENTER>Copyright &copy; 2009-2018, Christian Ferrari
      <A HREF="mailto:tiian@users.sourceforge.net">tiian@users.sourceforge.net</A>
      </CENTER>
    </H5>
  </BODY>
</HTML>
