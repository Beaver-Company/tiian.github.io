<HTML>
  <HEAD>
    <TITLE>XTA: XA Transaction API</TITLE>
    <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
  </HEAD>
  <BODY BGCOLOR="#EBEDF5">
    <H1><A HREF="http://www.tiian.org/lixa/">
    XTA: API Reference for C language</A></H1>
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('xta__transaction_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">xta_transaction.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;config.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="lixa__errors_8h_source.html">lixa_errors.h</a>&quot;</code><br/>
<code>#include &quot;lixa_trace.h&quot;</code><br/>
<code>#include &quot;client_conn.h&quot;</code><br/>
<code>#include &quot;client_config.h&quot;</code><br/>
<code>#include &quot;client_status.h&quot;</code><br/>
<code>#include &quot;lixa_xa.h&quot;</code><br/>
<code>#include &quot;lixa_syslog.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="xta__transaction_8h_source.html">xta_transaction.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for xta_transaction.c:</div>
<div class="dyncontent">
<div class="center"><img src="xta__transaction_8c__incl.png" border="0" usemap="#xta__transaction_8c" alt=""/></div>
<map name="xta__transaction_8c" id="xta__transaction_8c">
<area shape="rect" id="node3" href="lixa__errors_8h.html" title="lixa_errors.h" alt="" coords="99,80,192,107"/><area shape="rect" id="node10" href="xta__transaction_8h.html" title="xta_transaction.h" alt="" coords="936,80,1059,107"/><area shape="rect" id="node11" href="xta__xa__resource_8h.html" title="xta_xa_resource.h" alt="" coords="933,155,1061,181"/><area shape="rect" id="node13" href="xta__xid_8h.html" title="xta_xid.h" alt="" coords="1004,229,1077,256"/><area shape="rect" id="node14" href="xa_8h.html" title="xa.h" alt="" coords="1018,304,1064,331"/></map>
</div>
</div>
<p><a href="xta__transaction_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:acc7dd43ba69e6e58d0399bb76af97ff9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#acc7dd43ba69e6e58d0399bb76af97ff9">LIXA_TRACE_MODULE</a>&#160;&#160;&#160;LIXA_TRACE_MOD_XTA</td></tr>
<tr class="separator:acc7dd43ba69e6e58d0399bb76af97ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a974db38c0d745a7342d741bdad64fe44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#a974db38c0d745a7342d741bdad64fe44">xta_transaction_branch</a> (<a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *this, const char *xid_string)</td></tr>
<tr class="separator:a974db38c0d745a7342d741bdad64fe44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a461d1e9228aa0be9f31b2a0fffc5ec88"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#a461d1e9228aa0be9f31b2a0fffc5ec88">xta_transaction_close</a> (<a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *this)</td></tr>
<tr class="separator:a461d1e9228aa0be9f31b2a0fffc5ec88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a062feaf1c0da29d18088028d30d52189"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#a062feaf1c0da29d18088028d30d52189">xta_transaction_commit</a> (<a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *this, int non_block)</td></tr>
<tr class="separator:a062feaf1c0da29d18088028d30d52189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac644572ee879cde9e20610329d1fcaea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#ac644572ee879cde9e20610329d1fcaea">xta_transaction_delete</a> (<a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *this)</td></tr>
<tr class="separator:ac644572ee879cde9e20610329d1fcaea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76fbc2d072380e798d95246a6371955"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#ae76fbc2d072380e798d95246a6371955">xta_transaction_enlist_resource</a> (<a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *this, <a class="el" href="xta__iface_8h.html#ab96eea5a616bd00dd3d28866c80758db">xta_xa_resource_t</a> *xa_res)</td></tr>
<tr class="separator:ae76fbc2d072380e798d95246a6371955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab583e9fd0bd7b6b5a795aa62e079d6f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="xta__transaction_8h.html#aae4cc3ae4d77c7d835ce44b45ae1e733">xta_transaction_config_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#ab583e9fd0bd7b6b5a795aa62e079d6f2">xta_transaction_get_config</a> (<a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *this)</td></tr>
<tr class="separator:ab583e9fd0bd7b6b5a795aa62e079d6f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f9298bd7c098f5a51179882e4bbceee"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structxta__xid__t.html">xta_xid_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#a4f9298bd7c098f5a51179882e4bbceee">xta_transaction_get_xid</a> (const <a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *this)</td></tr>
<tr class="separator:a4f9298bd7c098f5a51179882e4bbceee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c0f2c9804cbd2fef326accc741fb228"><td class="memItemLeft" align="right" valign="top"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#a7c0f2c9804cbd2fef326accc741fb228">xta_transaction_new</a> (void)</td></tr>
<tr class="separator:a7c0f2c9804cbd2fef326accc741fb228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19c1b6e190af4df3c418143055f1b3f8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#a19c1b6e190af4df3c418143055f1b3f8">xta_transaction_open</a> (<a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *this)</td></tr>
<tr class="separator:a19c1b6e190af4df3c418143055f1b3f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e44e0f89409420a1b7e568554e1f8a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#a18e44e0f89409420a1b7e568554e1f8a">xta_transaction_redigest</a> (<a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *this, const <a class="el" href="xta__xa__resource_8h.html#a16635f94e4c6ebfe6673090ac6806dd8">xta_xa_resource_config_t</a> *xrc)</td></tr>
<tr class="separator:a18e44e0f89409420a1b7e568554e1f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8eb24875b5bfb038f22b4cac317bc9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#a2d8eb24875b5bfb038f22b4cac317bc9">xta_transaction_resume</a> (<a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *this, const char *xid_string, long flags)</td></tr>
<tr class="separator:a2d8eb24875b5bfb038f22b4cac317bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb2e9d66db4e89e54bda0d1bcfcb2eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#a2fb2e9d66db4e89e54bda0d1bcfcb2eb">xta_transaction_rollback</a> (<a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *this)</td></tr>
<tr class="separator:a2fb2e9d66db4e89e54bda0d1bcfcb2eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac832e6797aa626202a1b6a089941124a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#ac832e6797aa626202a1b6a089941124a">xta_transaction_start</a> (<a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *this, int multiple_branches)</td></tr>
<tr class="separator:ac832e6797aa626202a1b6a089941124a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951b06cf7a87953c79451c8ec4e1dc58"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xta__transaction_8c.html#a951b06cf7a87953c79451c8ec4e1dc58">xta_transaction_suspend</a> (<a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *this, long flags)</td></tr>
<tr class="separator:a951b06cf7a87953c79451c8ec4e1dc58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="acc7dd43ba69e6e58d0399bb76af97ff9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LIXA_TRACE_MODULE&#160;&#160;&#160;LIXA_TRACE_MOD_XTA</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l00050">50</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a974db38c0d745a7342d741bdad64fe44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xta_transaction_branch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>xid_string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new branch of the transaction represented by xid in this transaction object; the global transaction has been previously started </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>: transaction object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xid_string</td><td>serialized identifier of the global transaction that must be branched </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reason code </dd></dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l01205">1205</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00172">LIXA_RC_INVALID_STATUS</a>, <a class="el" href="lixa__errors_8h_source.html#l00224">LIXA_RC_MALFORMED_XID</a>, <a class="el" href="lixa__errors_8h_source.html#l00089">LIXA_RC_NO_SUPERIOR_BRANCH</a>, <a class="el" href="lixa__errors_8h_source.html#l00583">LIXA_RC_NON_BRANCHABLE_TX</a>, <a class="el" href="lixa__errors_8h_source.html#l00139">LIXA_RC_NULL_OBJECT</a>, <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>, <a class="el" href="xa_8h_source.html#l00218">TMXTABRANCH</a>, <a class="el" href="xta__xid_8c_source.html#l00110">xta_xid_branch_qualifier_is_multibranch()</a>, <a class="el" href="xta__xid_8c_source.html#l00395">xta_xid_get_xa_xid()</a>, and <a class="el" href="xta__xid_8c_source.html#l00328">xta_xid_new_from_XID()</a>.</p>

</div>
</div>
<a class="anchor" id="a461d1e9228aa0be9f31b2a0fffc5ec88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xta_transaction_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shut down the XA Resource Managers and the XA Transaction Manager after transactional Unit of Work completion. From the XA specification point of view, it calls xa_close (for the Native XA Resource Managers) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>: transaction object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reason code </dd></dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l00528">528</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00172">LIXA_RC_INVALID_STATUS</a>, <a class="el" href="lixa__errors_8h_source.html#l00139">LIXA_RC_NULL_OBJECT</a>, <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>, and <a class="el" href="lixa__errors_8h_source.html#l00167">LIXA_RC_PROTOCOL_ERROR</a>.</p>

</div>
</div>
<a class="anchor" id="a062feaf1c0da29d18088028d30d52189"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xta_transaction_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>non_block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Commit the transaction represented by this transaction object </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>: transaction object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">non_block</td><td>boolean value: <br/>
 TRUE = xa_prepare will not block the caller <br/>
 FALSE = xa_prepare will block the caller <br/>
 the option is used only for multiple branch transactions </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reason code </dd></dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l00667">667</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00172">LIXA_RC_INVALID_STATUS</a>, <a class="el" href="lixa__errors_8h_source.html#l00139">LIXA_RC_NULL_OBJECT</a>, <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>, <a class="el" href="lixa__errors_8h_source.html#l00108">LIXA_RC_OTHER_BRANCH_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00578">LIXA_RC_TX_HAZARD</a>, <a class="el" href="lixa__errors_8h_source.html#l00573">LIXA_RC_TX_MIXED</a>, <a class="el" href="lixa__errors_8h_source.html#l00568">LIXA_RC_TX_ROLLBACK</a>, <a class="el" href="lixa__errors_8h_source.html#l00103">LIXA_RC_WOULD_BLOCK</a>, <a class="el" href="xa_8h_source.html#l00184">TMSUCCESS</a>, <a class="el" href="xta__xid_8c_source.html#l00110">xta_xid_branch_qualifier_is_multibranch()</a>, <a class="el" href="xta__xid_8c_source.html#l00395">xta_xid_get_xa_xid()</a>, and <a class="el" href="xta__xid_8c_source.html#l00474">xta_xid_reset()</a>.</p>

</div>
</div>
<a class="anchor" id="ac644572ee879cde9e20610329d1fcaea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xta_transaction_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a Transaction object </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">this</td><td>: transaction object to delete </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l00177">177</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>, and <a class="el" href="xta__xid_8c_source.html#l00369">xta_xid_delete()</a>.</p>

<p>Referenced by <a class="el" href="xta__transaction__manager_8c_source.html#l00129">xta_transaction_manager_create_transaction()</a>.</p>

</div>
</div>
<a class="anchor" id="ae76fbc2d072380e798d95246a6371955"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xta_transaction_enlist_resource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xta__iface_8h.html#ab96eea5a616bd00dd3d28866c80758db">xta_xa_resource_t</a> *&#160;</td>
          <td class="paramname"><em>xa_res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enlist the resource specified with the Transaction associated with the Transaction object </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>: transaction object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xa_res</td><td>: resource to associate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reason code </dd></dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l00255">255</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00550">LIXA_RC_G_TRY_MALLOC_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00172">LIXA_RC_INVALID_STATUS</a>, <a class="el" href="lixa__errors_8h_source.html#l00139">LIXA_RC_NULL_OBJECT</a>, <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>, <a class="el" href="xta__transaction_8c_source.html#l00364">xta_transaction_redigest()</a>, <a class="el" href="xta__xa__resource_8c_source.html#l00127">xta_xa_resource_enlisted()</a>, <a class="el" href="xta__xa__resource_8c_source.html#l00090">xta_xa_resource_get_config()</a>, and <a class="el" href="xta__xa__resource_8h_source.html#l00135">xta_xa_resource_is_dynamic()</a>.</p>

</div>
</div>
<a class="anchor" id="ab583e9fd0bd7b6b5a795aa62e079d6f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xta__transaction_8h.html#aae4cc3ae4d77c7d835ce44b45ae1e733">xta_transaction_config_t</a>* xta_transaction_get_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the legacy LIXA object that contains the configurations for all the define Resource Managers </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">this</td><td>: Transaction object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the pointer to the Transaction configuration object </dd></dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l00222">222</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00139">LIXA_RC_NULL_OBJECT</a>, and <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>.</p>

</div>
</div>
<a class="anchor" id="a4f9298bd7c098f5a51179882e4bbceee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structxta__xid__t.html">xta_xid_t</a>* xta_transaction_get_xid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the Xid associated with the Transaction object </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">this</td><td>: transaction object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reference to the Transaction Identifier </dd></dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l01331">1331</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00139">LIXA_RC_NULL_OBJECT</a>, and <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>.</p>

</div>
</div>
<a class="anchor" id="a7c0f2c9804cbd2fef326accc741fb228"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a>* xta_transaction_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new Transaction object </p>
<dl class="section return"><dt>Returns</dt><dd>a new transaction object or NULL in the event of an error occurred </dd></dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l00054">54</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00550">LIXA_RC_G_TRY_MALLOC_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, and <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>.</p>

<p>Referenced by <a class="el" href="xta__transaction__manager_8c_source.html#l00129">xta_transaction_manager_create_transaction()</a>.</p>

</div>
</div>
<a class="anchor" id="a19c1b6e190af4df3c418143055f1b3f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xta_transaction_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare the XA Resource Managers and the XA Transaction Manager for a new transactional Unit of Work. From the XA specification point of view, it calls xa_open (for the Native XA Resource Managers) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>: transaction object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reason code </dd></dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l00464">464</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00172">LIXA_RC_INVALID_STATUS</a>, <a class="el" href="lixa__errors_8h_source.html#l00139">LIXA_RC_NULL_OBJECT</a>, and <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>.</p>

</div>
</div>
<a class="anchor" id="a18e44e0f89409420a1b7e568554e1f8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xta_transaction_redigest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="xta__xa__resource_8h.html#a16635f94e4c6ebfe6673090ac6806dd8">xta_xa_resource_config_t</a> *&#160;</td>
          <td class="paramname"><em>xrc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When a resource registers dynamically the digest must be updated because the configuration has been altered. This must be considered a PRIVATE method and should not be used by the Application Program. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>: transaction object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xrc</td><td>: XA resource configuration (LIXA legacy structure) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reason code </dd></dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l00364">364</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__config_8h_source.html#l00308">lixa_job_get_raw()</a>, <a class="el" href="lixa__config_8h_source.html#l00296">lixa_job_reset()</a>, <a class="el" href="lixa__config_8h_source.html#l00330">lixa_job_set_config_digest()</a>, <a class="el" href="lixa__config_8h.html#a4d56aaeefdf3e832ebbfa99d89167d85">lixa_job_set_source_ip()</a>, <a class="el" href="lixa__errors_8h_source.html#l00501">LIXA_RC_G_CHECKSUM_GET_STRING_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00505">LIXA_RC_G_CHECKSUM_NEW_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00139">LIXA_RC_NULL_OBJECT</a>, <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>, and <a class="el" href="lixa__config_8h_source.html#l00064">MD5_DIGEST_LENGTH</a>.</p>

<p>Referenced by <a class="el" href="xta__transaction_8c_source.html#l00255">xta_transaction_enlist_resource()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d8eb24875b5bfb038f22b4cac317bc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xta_transaction_resume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>xid_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resume the transaction represented by xid in this transaction object; the transaction has been previously suspended with <a class="el" href="xta__transaction_8h.html#a951b06cf7a87953c79451c8ec4e1dc58">xta_transaction_suspend</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>transaction object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xid_string</td><td>serialized identifier of the transaction that must be resumed (see <a class="el" href="xta__xid_8h.html#af80aade5dba6a99b7f1c4e914cb2a516">xta_xid_to_string</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>can be <a class="el" href="xa_8h.html#a7e1c3c485e197ac63b1fde0d0fa21918">TMRESUME</a> if the transaction has been suspended using <a class="el" href="xa_8h.html#a3e47ab6075bcbc58f4b9a48a2a555e1f">TMMIGRATE</a> or <a class="el" href="xa_8h.html#a19ddbf5289b6e1eddd0a7909639f92d5">TMJOIN</a> if the transaction has been suspended using <a class="el" href="xa_8h.html#a419fee50685a9163b44cfb9958a76542">TMNOFLAGS</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reason code </dd></dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l01113">1113</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00163">LIXA_RC_INVALID_OPTION</a>, <a class="el" href="lixa__errors_8h_source.html#l00172">LIXA_RC_INVALID_STATUS</a>, <a class="el" href="lixa__errors_8h_source.html#l00139">LIXA_RC_NULL_OBJECT</a>, <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>, <a class="el" href="lixa__errors_8h_source.html#l00167">LIXA_RC_PROTOCOL_ERROR</a>, <a class="el" href="xa_8h_source.html#l00204">TMJOIN</a>, <a class="el" href="xa_8h_source.html#l00180">TMRESUME</a>, <a class="el" href="xta__xid_8c_source.html#l00395">xta_xid_get_xa_xid()</a>, and <a class="el" href="xta__xid_8c_source.html#l00282">xta_xid_new_from_string()</a>.</p>

</div>
</div>
<a class="anchor" id="a2fb2e9d66db4e89e54bda0d1bcfcb2eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xta_transaction_rollback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rollback the transaction represented by this transaction object </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>: transaction object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reason code </dd></dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l00916">916</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00172">LIXA_RC_INVALID_STATUS</a>, <a class="el" href="lixa__errors_8h_source.html#l00139">LIXA_RC_NULL_OBJECT</a>, <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>, <a class="el" href="lixa__errors_8h_source.html#l00578">LIXA_RC_TX_HAZARD</a>, <a class="el" href="lixa__errors_8h_source.html#l00573">LIXA_RC_TX_MIXED</a>, <a class="el" href="xa_8h_source.html#l00184">TMSUCCESS</a>, <a class="el" href="xta__xid_8c_source.html#l00395">xta_xid_get_xa_xid()</a>, and <a class="el" href="xta__xid_8c_source.html#l00474">xta_xid_reset()</a>.</p>

</div>
</div>
<a class="anchor" id="ac832e6797aa626202a1b6a089941124a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xta_transaction_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>multiple_branches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start a new XA Transaction. From the XA specification point of view, it calls xa_start (for the Native XA Resource Managers) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>: transaction object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">multiple_branches</td><td>: boolean value: <br/>
 TRUE = the created transaction will span more applications, <a class="el" href="xta__transaction_8h.html#a974db38c0d745a7342d741bdad64fe44">xta_transaction_branch</a> will be called subsequently <br/>
 FALSE = the created transaction will not span more applications and <a class="el" href="xta__transaction_8h.html#a974db38c0d745a7342d741bdad64fe44">xta_transaction_branch</a> will not be called for this transaction <br/>
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reason code </dd></dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l00597">597</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00172">LIXA_RC_INVALID_STATUS</a>, <a class="el" href="lixa__errors_8h_source.html#l00139">LIXA_RC_NULL_OBJECT</a>, <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>, <a class="el" href="xa_8h_source.html#l00144">TMNOFLAGS</a>, <a class="el" href="xta__xid_8c_source.html#l00395">xta_xid_get_xa_xid()</a>, and <a class="el" href="xta__xid_8c_source.html#l00047">xta_xid_new()</a>.</p>

</div>
</div>
<a class="anchor" id="a951b06cf7a87953c79451c8ec4e1dc58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xta_transaction_suspend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xta__transaction_8h.html#a25c9bd62309a30c5daaad30cef048d49">xta_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Suspend the transaction represented by this transaction object; the transaction can be resumed with <a class="el" href="xta__transaction_8h.html#a2d8eb24875b5bfb038f22b4cac317bc9">xta_transaction_resume</a> at a later time </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">this</td><td>: transaction object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>can be <a class="el" href="xa_8h.html#a3e47ab6075bcbc58f4b9a48a2a555e1f">TMMIGRATE</a> if the Resource Manager supports transaction migration and <a class="el" href="xa_8h.html#a419fee50685a9163b44cfb9958a76542">TMNOFLAGS</a> otherwise </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reason code </dd></dl>

<p>Definition at line <a class="el" href="xta__transaction_8c_source.html#l01032">1032</a> of file <a class="el" href="xta__transaction_8c_source.html">xta_transaction.c</a>.</p>

<p>References <a class="el" href="lixa__errors_8h_source.html#l00122">LIXA_RC_INTERNAL_ERROR</a>, <a class="el" href="lixa__errors_8h_source.html#l00163">LIXA_RC_INVALID_OPTION</a>, <a class="el" href="lixa__errors_8h_source.html#l00172">LIXA_RC_INVALID_STATUS</a>, <a class="el" href="lixa__errors_8h_source.html#l00139">LIXA_RC_NULL_OBJECT</a>, <a class="el" href="lixa__errors_8h_source.html#l00115">LIXA_RC_OK</a>, <a class="el" href="lixa__errors_8h_source.html#l00167">LIXA_RC_PROTOCOL_ERROR</a>, <a class="el" href="xa_8h_source.html#l00208">TMMIGRATE</a>, <a class="el" href="xa_8h_source.html#l00144">TMNOFLAGS</a>, <a class="el" href="xa_8h_source.html#l00188">TMSUSPEND</a>, and <a class="el" href="xta__xid_8c_source.html#l00395">xta_xid_get_xa_xid()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <HR>
    <H5>
      <CENTER>Copyright &copy; 2009-2018, Christian Ferrari
      <A HREF="mailto:tiian@users.sourceforge.net">tiian@users.sourceforge.net</A>
      <A HREF="http://www.tiian.org/">http://www.tiian.org/</A>
      </CENTER>
    </H5>
  </BODY>
</HTML>
